<div id="article_wrapper">
  
  <div id="article">
    <div class="above_image">
    <% if is_logged_in? %>
    <div id="article_admin_tools">
        <%= render :partial => "article_admin_tools", :locals => { :article => @article } %>
    </div>
    <% end %>
   
    <div id="article_header">
      <%= render :partial => 'article_header' %>
    </div>

    </div>

    <div id="article_tabs">
      <%= render :partial => 'article_tabs' %>
    </div>
   
    <div id="article_details">
   
      <p>This article is about <span class="bold">
      <%= @article.country.title %></span> and is dated 
      <%= raw getArticleStartEndDate(@article) %>. The article has <span class="bold">
      <%= pluralize @article.assets.size, 'image', 'images' %></span>
      in the gallery, and <span class="bold">
      <span id="article_number_of_comments"><%= pluralize @article.comments.size, 'comment' %></span></span>.  Please write
      us a comment below, that'll make us happy!</p>
    
    </div>
     
    <!-- COMMENTS -->
    <div id="article_comments">
      <%= render :partial => 'article_comments' %>
    </div>
  </div>
</div>
<script type="text/javascript">
$(function() {
  // Since the event is only triggered when the hash changes, we need to trigger
  // the event now, to handle the hash the page may have loaded with.
  if (window.location.hash.charAt(0) == "#") { 
    $(window).trigger( 'hashchange' );
    scrollToAndSwitchToTab(1);
  }
});
</script>

    <div id="fb-root"></div>
    <script>
      window.fbAsyncInit = function() {
        FB.init({appId: '184754434896410', status: true, cookie: true,
                 xfbml: true});
      };
      (function() {
        var e = document.createElement('script');
        e.type = 'text/javascript';
        e.src = document.location.protocol +
          '//connect.facebook.net/en_GB/all.js';
        e.async = true;
        document.getElementById('fb-root').appendChild(e);
      }());
    </script>
